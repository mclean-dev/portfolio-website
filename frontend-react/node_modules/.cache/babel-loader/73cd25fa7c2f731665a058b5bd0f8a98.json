{"ast":null,"code":"\"use strict\";\n\nvar global = require('../util/global');\n\nvar objectAssign = require('object-assign');\n\nmodule.exports = function () {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var Observable = opts.implementation || global.Observable;\n\n  if (!Observable) {\n    throw new Error('`Observable` is not available in global scope, and no implementation was passed');\n  }\n\n  return {\n    onReturn: function onReturn(channels, context) {\n      return new Observable(function (observer) {\n        channels.error.subscribe(function (err) {\n          return observer.error(err);\n        });\n        channels.progress.subscribe(function (event) {\n          return observer.next(objectAssign({\n            type: 'progress'\n          }, event));\n        });\n        channels.response.subscribe(function (response) {\n          observer.next(objectAssign({\n            type: 'response'\n          }, response));\n          observer.complete();\n        });\n        channels.request.publish(context);\n        return function () {\n          return channels.abort.publish();\n        };\n      });\n    }\n  };\n};","map":{"version":3,"mappings":";;AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,gBAAD,CAAtB;;AACA,IAAMC,YAAY,GAAGD,OAAO,CAAC,eAAD,CAA5B;;AAEAE,MAAM,CAACC,OAAPD,GAAiB,YAAe;AAAA,MAAdE,IAAc,uEAAP,EAAO;AAC9B,MAAMC,UAAU,GAAGD,IAAI,CAACE,cAALF,IAAuBL,MAAM,CAACM,UAAjD;;AACA,MAAI,CAACA,UAAL,EAAiB;AACf,UAAM,IAAIE,KAAJ,CACJ,iFADI,CAAN;AAGD;;AAED,SAAO;AACLC,YAAQ,EAAE,kBAACC,QAAD,EAAWC,OAAX;AAAA,aACR,IAAIL,UAAJ,CAAe,oBAAY;AACzBI,gBAAQ,CAACE,KAATF,CAAeG,SAAfH,CAAyB,eAAG;AAAA,iBAAII,QAAQ,CAACF,KAATE,CAAeC,GAAfD,CAAJ;AAA5B;AACAJ,gBAAQ,CAACM,QAATN,CAAkBG,SAAlBH,CAA4B,iBAAK;AAAA,iBAAII,QAAQ,CAACG,IAATH,CAAcZ,YAAY,CAAC;AAACgB,gBAAI,EAAE;AAAP,WAAD,EAAqBC,KAArB,CAA1BL,CAAJ;AAAjC;AACAJ,gBAAQ,CAACU,QAATV,CAAkBG,SAAlBH,CAA4B,oBAAY;AACtCI,kBAAQ,CAACG,IAATH,CAAcZ,YAAY,CAAC;AAACgB,gBAAI,EAAE;AAAP,WAAD,EAAqBE,QAArB,CAA1BN;AACAA,kBAAQ,CAACO,QAATP;AAFF;AAKAJ,gBAAQ,CAACY,OAATZ,CAAiBa,OAAjBb,CAAyBC,OAAzBD;AACA,eAAO;AAAA,iBAAMA,QAAQ,CAACc,KAATd,CAAea,OAAfb,EAAN;AAAP;AATF,QADQ;AAAA;AADL,GAAP;AARF","names":["global","require","objectAssign","module","exports","opts","Observable","implementation","Error","onReturn","channels","context","error","subscribe","observer","err","progress","next","type","event","response","complete","request","publish","abort"],"sources":["/home/mcleanj/projects/portfolio-website/frontend-react/node_modules/get-it/src/middleware/observable.js"],"sourcesContent":["const global = require('../util/global')\nconst objectAssign = require('object-assign')\n\nmodule.exports = (opts = {}) => {\n  const Observable = opts.implementation || global.Observable\n  if (!Observable) {\n    throw new Error(\n      '`Observable` is not available in global scope, and no implementation was passed'\n    )\n  }\n\n  return {\n    onReturn: (channels, context) =>\n      new Observable(observer => {\n        channels.error.subscribe(err => observer.error(err))\n        channels.progress.subscribe(event => observer.next(objectAssign({type: 'progress'}, event)))\n        channels.response.subscribe(response => {\n          observer.next(objectAssign({type: 'response'}, response))\n          observer.complete()\n        })\n\n        channels.request.publish(context)\n        return () => channels.abort.publish()\n      })\n  }\n}\n"]},"metadata":{},"sourceType":"script"}