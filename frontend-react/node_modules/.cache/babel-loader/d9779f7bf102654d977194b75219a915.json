{"ast":null,"code":"\"use strict\";\n\nmodule.exports = function () {\n  return {\n    onRequest: function onRequest(evt) {\n      if (evt.adapter !== 'xhr') {\n        return;\n      }\n\n      var xhr = evt.request;\n      var context = evt.context;\n\n      if ('upload' in xhr && 'onprogress' in xhr.upload) {\n        xhr.upload.onprogress = handleProgress('upload');\n      }\n\n      if ('onprogress' in xhr) {\n        xhr.onprogress = handleProgress('download');\n      }\n\n      function handleProgress(stage) {\n        return function (event) {\n          var percent = event.lengthComputable ? event.loaded / event.total * 100 : -1;\n          context.channels.progress.publish({\n            stage: stage,\n            percent: percent,\n            total: event.total,\n            loaded: event.loaded,\n            lengthComputable: event.lengthComputable\n          });\n        };\n      }\n    }\n  };\n};","map":{"version":3,"mappings":";;AAAAA,MAAM,CAACC,OAAPD,GAAiB;AAAA,SAAO;AACtBE,aAAS,EAAE,wBAAO;AAChB,UAAIC,GAAG,CAACC,OAAJD,KAAgB,KAApB,EAA2B;AACzB;AACD;;AAED,UAAME,GAAG,GAAGF,GAAG,CAACG,OAAhB;AACA,UAAMC,OAAO,GAAGJ,GAAG,CAACI,OAApB;;AAEA,UAAI,YAAYF,GAAZ,IAAmB,gBAAgBA,GAAG,CAACG,MAA3C,EAAmD;AACjDH,WAAG,CAACG,MAAJH,CAAWI,UAAXJ,GAAwBK,cAAc,CAAC,QAAD,CAAtCL;AACD;;AAED,UAAI,gBAAgBA,GAApB,EAAyB;AACvBA,WAAG,CAACI,UAAJJ,GAAiBK,cAAc,CAAC,UAAD,CAA/BL;AACD;;AAED,eAASK,cAAT,CAAwBC,KAAxB,EAA+B;AAC7B,eAAO,iBAAS;AACd,cAAMC,OAAO,GAAGC,KAAK,CAACC,gBAAND,GAA0BA,KAAK,CAACE,MAANF,GAAeA,KAAK,CAACG,KAArBH,GAA8B,GAAxDA,GAA8D,CAAC,CAA/E;AACAN,iBAAO,CAACU,QAARV,CAAiBW,QAAjBX,CAA0BY,OAA1BZ,CAAkC;AAChCI,iBAAK,EAALA,KADgC;AAEhCC,mBAAO,EAAPA,OAFgC;AAGhCI,iBAAK,EAAEH,KAAK,CAACG,KAHmB;AAIhCD,kBAAM,EAAEF,KAAK,CAACE,MAJkB;AAKhCD,4BAAgB,EAAED,KAAK,CAACC;AALQ,WAAlCP;AAFF;AAUD;AACF;AA7BqB,GAAP;AAAjB","names":["module","exports","onRequest","evt","adapter","xhr","request","context","upload","onprogress","handleProgress","stage","percent","event","lengthComputable","loaded","total","channels","progress","publish"],"sources":["/home/mcleanj/projects/portfolio-website/frontend-react/node_modules/get-it/src/middleware/progress/browser-progress.js"],"sourcesContent":["module.exports = () => ({\n  onRequest: evt => {\n    if (evt.adapter !== 'xhr') {\n      return\n    }\n\n    const xhr = evt.request\n    const context = evt.context\n\n    if ('upload' in xhr && 'onprogress' in xhr.upload) {\n      xhr.upload.onprogress = handleProgress('upload')\n    }\n\n    if ('onprogress' in xhr) {\n      xhr.onprogress = handleProgress('download')\n    }\n\n    function handleProgress(stage) {\n      return event => {\n        const percent = event.lengthComputable ? (event.loaded / event.total) * 100 : -1\n        context.channels.progress.publish({\n          stage,\n          percent,\n          total: event.total,\n          loaded: event.loaded,\n          lengthComputable: event.lengthComputable\n        })\n      }\n    }\n  }\n})\n"]},"metadata":{},"sourceType":"script"}