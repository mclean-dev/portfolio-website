{"ast":null,"code":"\"use strict\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar assign = require('object-assign');\n\nvar getSelection = require('../util/getSelection');\n\nvar validate = require('../validators');\n\nvar validateObject = validate.validateObject;\nvar validateInsert = validate.validateInsert;\n\nfunction Patch(selection) {\n  var operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var client = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  this.selection = selection;\n  this.operations = assign({}, operations);\n  this.client = client;\n}\n\nassign(Patch.prototype, {\n  clone: function clone() {\n    return new Patch(this.selection, assign({}, this.operations), this.client);\n  },\n  set: function set(props) {\n    return this._assign('set', props);\n  },\n  diffMatchPatch: function diffMatchPatch(props) {\n    validateObject('diffMatchPatch', props);\n    return this._assign('diffMatchPatch', props);\n  },\n  unset: function unset(attrs) {\n    if (!Array.isArray(attrs)) {\n      throw new Error('unset(attrs) takes an array of attributes to unset, non-array given');\n    }\n\n    this.operations = assign({}, this.operations, {\n      unset: attrs\n    });\n    return this;\n  },\n  setIfMissing: function setIfMissing(props) {\n    return this._assign('setIfMissing', props);\n  },\n  replace: function replace(props) {\n    validateObject('replace', props);\n    return this._set('set', {\n      $: props\n    }); // eslint-disable-line id-length\n  },\n  inc: function inc(props) {\n    return this._assign('inc', props);\n  },\n  dec: function dec(props) {\n    return this._assign('dec', props);\n  },\n  insert: function insert(at, selector, items) {\n    var _this$_assign;\n\n    validateInsert(at, selector, items);\n    return this._assign('insert', (_this$_assign = {}, _defineProperty(_this$_assign, at, selector), _defineProperty(_this$_assign, \"items\", items), _this$_assign));\n  },\n  append: function append(selector, items) {\n    return this.insert('after', \"\".concat(selector, \"[-1]\"), items);\n  },\n  prepend: function prepend(selector, items) {\n    return this.insert('before', \"\".concat(selector, \"[0]\"), items);\n  },\n  splice: function splice(selector, start, deleteCount, items) {\n    // Negative indexes doesn't mean the same in Sanity as they do in JS;\n    // -1 means \"actually at the end of the array\", which allows inserting\n    // at the end of the array without knowing its length. We therefore have\n    // to substract negative indexes by one to match JS. If you want Sanity-\n    // behaviour, just use `insert('replace', selector, items)` directly\n    var delAll = typeof deleteCount === 'undefined' || deleteCount === -1;\n    var startIndex = start < 0 ? start - 1 : start;\n    var delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n    var delRange = startIndex < 0 && delCount >= 0 ? '' : delCount;\n    var rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n    return this.insert('replace', rangeSelector, items || []);\n  },\n  ifRevisionId: function ifRevisionId(rev) {\n    this.operations.ifRevisionID = rev;\n    return this;\n  },\n  serialize: function serialize() {\n    return assign(getSelection(this.selection), this.operations);\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.client) {\n      throw new Error('No `client` passed to patch, either provide one or pass the ' + 'patch to a clients `mutate()` method');\n    }\n\n    var returnFirst = typeof this.selection === 'string';\n    var opts = assign({\n      returnFirst: returnFirst,\n      returnDocuments: true\n    }, options);\n    return this.client.mutate({\n      patch: this.serialize()\n    }, opts);\n  },\n  reset: function reset() {\n    this.operations = {};\n    return this;\n  },\n  _set: function _set(op, props) {\n    return this._assign(op, props, false);\n  },\n  _assign: function _assign(op, props) {\n    var merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    validateObject(op, props);\n    this.operations = assign({}, this.operations, _defineProperty({}, op, assign({}, merge && this.operations[op] || {}, props)));\n    return this;\n  }\n});\nmodule.exports = Patch;","map":{"version":3,"sources":["/home/mcleanj/projects/portfolio-website/frontend-react/node_modules/@sanity/client/lib/data/patch.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","assign","require","getSelection","validate","validateObject","validateInsert","Patch","selection","operations","arguments","length","undefined","client","prototype","clone","set","props","_assign","diffMatchPatch","unset","attrs","Array","isArray","Error","setIfMissing","replace","_set","$","inc","dec","insert","at","selector","items","_this$_assign","append","concat","prepend","splice","start","deleteCount","delAll","startIndex","delCount","Math","max","delRange","rangeSelector","ifRevisionId","rev","ifRevisionID","serialize","toJSON","commit","options","returnFirst","opts","returnDocuments","mutate","patch","reset","op","merge","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar getSelection = require('../util/getSelection');\n\nvar validate = require('../validators');\n\nvar validateObject = validate.validateObject;\nvar validateInsert = validate.validateInsert;\n\nfunction Patch(selection) {\n  var operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var client = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  this.selection = selection;\n  this.operations = assign({}, operations);\n  this.client = client;\n}\n\nassign(Patch.prototype, {\n  clone: function clone() {\n    return new Patch(this.selection, assign({}, this.operations), this.client);\n  },\n  set: function set(props) {\n    return this._assign('set', props);\n  },\n  diffMatchPatch: function diffMatchPatch(props) {\n    validateObject('diffMatchPatch', props);\n    return this._assign('diffMatchPatch', props);\n  },\n  unset: function unset(attrs) {\n    if (!Array.isArray(attrs)) {\n      throw new Error('unset(attrs) takes an array of attributes to unset, non-array given');\n    }\n\n    this.operations = assign({}, this.operations, {\n      unset: attrs\n    });\n    return this;\n  },\n  setIfMissing: function setIfMissing(props) {\n    return this._assign('setIfMissing', props);\n  },\n  replace: function replace(props) {\n    validateObject('replace', props);\n    return this._set('set', {\n      $: props\n    }); // eslint-disable-line id-length\n  },\n  inc: function inc(props) {\n    return this._assign('inc', props);\n  },\n  dec: function dec(props) {\n    return this._assign('dec', props);\n  },\n  insert: function insert(at, selector, items) {\n    var _this$_assign;\n\n    validateInsert(at, selector, items);\n    return this._assign('insert', (_this$_assign = {}, _defineProperty(_this$_assign, at, selector), _defineProperty(_this$_assign, \"items\", items), _this$_assign));\n  },\n  append: function append(selector, items) {\n    return this.insert('after', \"\".concat(selector, \"[-1]\"), items);\n  },\n  prepend: function prepend(selector, items) {\n    return this.insert('before', \"\".concat(selector, \"[0]\"), items);\n  },\n  splice: function splice(selector, start, deleteCount, items) {\n    // Negative indexes doesn't mean the same in Sanity as they do in JS;\n    // -1 means \"actually at the end of the array\", which allows inserting\n    // at the end of the array without knowing its length. We therefore have\n    // to substract negative indexes by one to match JS. If you want Sanity-\n    // behaviour, just use `insert('replace', selector, items)` directly\n    var delAll = typeof deleteCount === 'undefined' || deleteCount === -1;\n    var startIndex = start < 0 ? start - 1 : start;\n    var delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n    var delRange = startIndex < 0 && delCount >= 0 ? '' : delCount;\n    var rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n    return this.insert('replace', rangeSelector, items || []);\n  },\n  ifRevisionId: function ifRevisionId(rev) {\n    this.operations.ifRevisionID = rev;\n    return this;\n  },\n  serialize: function serialize() {\n    return assign(getSelection(this.selection), this.operations);\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.client) {\n      throw new Error('No `client` passed to patch, either provide one or pass the ' + 'patch to a clients `mutate()` method');\n    }\n\n    var returnFirst = typeof this.selection === 'string';\n    var opts = assign({\n      returnFirst: returnFirst,\n      returnDocuments: true\n    }, options);\n    return this.client.mutate({\n      patch: this.serialize()\n    }, opts);\n  },\n  reset: function reset() {\n    this.operations = {};\n    return this;\n  },\n  _set: function _set(op, props) {\n    return this._assign(op, props, false);\n  },\n  _assign: function _assign(op, props) {\n    var merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    validateObject(op, props);\n    this.operations = assign({}, this.operations, _defineProperty({}, op, assign({}, merge && this.operations[op] || {}, props)));\n    return this;\n  }\n});\nmodule.exports = Patch;"]},"metadata":{},"sourceType":"script"}