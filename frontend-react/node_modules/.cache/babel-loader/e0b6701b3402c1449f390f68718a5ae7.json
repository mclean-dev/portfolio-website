{"ast":null,"code":"\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url').generateHelpUrl;\n\nvar assign = require('object-assign');\n\nvar validate = require('./validators');\n\nvar warnings = require('./warnings');\n\nvar defaultCdnHost = 'apicdn.sanity.io';\nvar defaultConfig = {\n  apiHost: 'https://api.sanity.io',\n  apiVersion: '1',\n  useProjectHostname: true,\n  isPromiseAPI: true\n};\nvar LOCALHOSTS = ['localhost', '127.0.0.1', '0.0.0.0'];\n\nvar isLocal = function isLocal(host) {\n  return LOCALHOSTS.indexOf(host) !== -1;\n};\n\nexports.defaultConfig = defaultConfig; // eslint-disable-next-line complexity\n\nexports.initConfig = function (config, prevConfig) {\n  var specifiedConfig = assign({}, prevConfig, config);\n\n  if (!specifiedConfig.apiVersion) {\n    warnings.printNoApiVersionSpecifiedWarning();\n  }\n\n  var newConfig = assign({}, defaultConfig, specifiedConfig);\n  var projectBased = newConfig.useProjectHostname;\n\n  if (typeof Promise === 'undefined') {\n    var helpUrl = generateHelpUrl('js-client-promise-polyfill');\n    throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n  }\n\n  if (projectBased && !newConfig.projectId) {\n    throw new Error('Configuration must contain `projectId`');\n  }\n\n  var isBrowser = typeof window !== 'undefined' && window.location && window.location.hostname;\n  var isLocalhost = isBrowser && isLocal(window.location.hostname);\n\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    warnings.printBrowserTokenWarning();\n  } else if (typeof newConfig.useCdn === 'undefined') {\n    warnings.printCdnWarning();\n  }\n\n  if (projectBased) {\n    validate.projectId(newConfig.projectId);\n  }\n\n  if (newConfig.dataset) {\n    validate.dataset(newConfig.dataset);\n  }\n\n  if ('requestTagPrefix' in newConfig) {\n    // Allow setting and unsetting request tag prefix\n    newConfig.requestTagPrefix = newConfig.requestTagPrefix ? validate.requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, '') : undefined;\n  }\n\n  newConfig.apiVersion = \"\".concat(newConfig.apiVersion).replace(/^v/, '');\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n  newConfig.useCdn = Boolean(newConfig.useCdn) && !newConfig.withCredentials;\n  exports.validateApiVersion(newConfig.apiVersion);\n  var hostParts = newConfig.apiHost.split('://', 2);\n  var protocol = hostParts[0];\n  var host = hostParts[1];\n  var cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n\n  if (newConfig.useProjectHostname) {\n    newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v\").concat(newConfig.apiVersion);\n  } else {\n    newConfig.url = \"\".concat(newConfig.apiHost, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = newConfig.url;\n  }\n\n  return newConfig;\n};\n\nexports.validateApiVersion = function validateApiVersion(apiVersion) {\n  if (apiVersion === '1' || apiVersion === 'X') {\n    return;\n  }\n\n  var apiDate = new Date(apiVersion);\n  var apiVersionValid = /^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0;\n\n  if (!apiVersionValid) {\n    throw new Error('Invalid API version string, expected `1` or date in format `YYYY-MM-DD`');\n  }\n};","map":{"version":3,"sources":["/home/mcleanj/projects/portfolio-website/portfolio-website-frontend/node_modules/@sanity/client/lib/config.js"],"names":["generateHelpUrl","require","assign","validate","warnings","defaultCdnHost","defaultConfig","apiHost","apiVersion","useProjectHostname","isPromiseAPI","LOCALHOSTS","isLocal","host","indexOf","exports","initConfig","config","prevConfig","specifiedConfig","printNoApiVersionSpecifiedWarning","newConfig","projectBased","Promise","helpUrl","Error","concat","projectId","isBrowser","window","location","hostname","isLocalhost","token","ignoreBrowserTokenWarning","printBrowserTokenWarning","useCdn","printCdnWarning","dataset","requestTagPrefix","requestTag","replace","undefined","isDefaultApi","Boolean","withCredentials","validateApiVersion","hostParts","split","protocol","cdnHost","url","cdnUrl","apiDate","Date","apiVersionValid","test","getTime"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url').generateHelpUrl;\n\nvar assign = require('object-assign');\n\nvar validate = require('./validators');\n\nvar warnings = require('./warnings');\n\nvar defaultCdnHost = 'apicdn.sanity.io';\nvar defaultConfig = {\n  apiHost: 'https://api.sanity.io',\n  apiVersion: '1',\n  useProjectHostname: true,\n  isPromiseAPI: true\n};\nvar LOCALHOSTS = ['localhost', '127.0.0.1', '0.0.0.0'];\n\nvar isLocal = function isLocal(host) {\n  return LOCALHOSTS.indexOf(host) !== -1;\n};\n\nexports.defaultConfig = defaultConfig; // eslint-disable-next-line complexity\n\nexports.initConfig = function (config, prevConfig) {\n  var specifiedConfig = assign({}, prevConfig, config);\n\n  if (!specifiedConfig.apiVersion) {\n    warnings.printNoApiVersionSpecifiedWarning();\n  }\n\n  var newConfig = assign({}, defaultConfig, specifiedConfig);\n  var projectBased = newConfig.useProjectHostname;\n\n  if (typeof Promise === 'undefined') {\n    var helpUrl = generateHelpUrl('js-client-promise-polyfill');\n    throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n  }\n\n  if (projectBased && !newConfig.projectId) {\n    throw new Error('Configuration must contain `projectId`');\n  }\n\n  var isBrowser = typeof window !== 'undefined' && window.location && window.location.hostname;\n  var isLocalhost = isBrowser && isLocal(window.location.hostname);\n\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    warnings.printBrowserTokenWarning();\n  } else if (typeof newConfig.useCdn === 'undefined') {\n    warnings.printCdnWarning();\n  }\n\n  if (projectBased) {\n    validate.projectId(newConfig.projectId);\n  }\n\n  if (newConfig.dataset) {\n    validate.dataset(newConfig.dataset);\n  }\n\n  if ('requestTagPrefix' in newConfig) {\n    // Allow setting and unsetting request tag prefix\n    newConfig.requestTagPrefix = newConfig.requestTagPrefix ? validate.requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, '') : undefined;\n  }\n\n  newConfig.apiVersion = \"\".concat(newConfig.apiVersion).replace(/^v/, '');\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n  newConfig.useCdn = Boolean(newConfig.useCdn) && !newConfig.withCredentials;\n  exports.validateApiVersion(newConfig.apiVersion);\n  var hostParts = newConfig.apiHost.split('://', 2);\n  var protocol = hostParts[0];\n  var host = hostParts[1];\n  var cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n\n  if (newConfig.useProjectHostname) {\n    newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v\").concat(newConfig.apiVersion);\n  } else {\n    newConfig.url = \"\".concat(newConfig.apiHost, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = newConfig.url;\n  }\n\n  return newConfig;\n};\n\nexports.validateApiVersion = function validateApiVersion(apiVersion) {\n  if (apiVersion === '1' || apiVersion === 'X') {\n    return;\n  }\n\n  var apiDate = new Date(apiVersion);\n  var apiVersionValid = /^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0;\n\n  if (!apiVersionValid) {\n    throw new Error('Invalid API version string, expected `1` or date in format `YYYY-MM-DD`');\n  }\n};"]},"metadata":{},"sourceType":"script"}