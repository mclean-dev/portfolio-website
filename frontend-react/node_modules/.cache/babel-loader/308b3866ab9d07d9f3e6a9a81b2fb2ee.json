{"ast":null,"code":"\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar assign = require('object-assign');\n\nvar _require = require('./util/observable'),\n    Observable = _require.Observable,\n    map = _require.map,\n    filter = _require.filter;\n\nvar Patch = require('./data/patch');\n\nvar Transaction = require('./data/transaction');\n\nvar dataMethods = require('./data/dataMethods');\n\nvar DatasetsClient = require('./datasets/datasetsClient');\n\nvar ProjectsClient = require('./projects/projectsClient');\n\nvar AssetsClient = require('./assets/assetsClient');\n\nvar UsersClient = require('./users/usersClient');\n\nvar AuthClient = require('./auth/authClient');\n\nvar httpRequest = require('./http/request');\n\nvar getRequestOptions = require('./http/requestOptions');\n\nvar _require2 = require('./config'),\n    defaultConfig = _require2.defaultConfig,\n    initConfig = _require2.initConfig;\n\nvar validate = require('./validators');\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nfunction SanityClient() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n\n  if (!(this instanceof SanityClient)) {\n    return new SanityClient(config);\n  }\n\n  this.config(config);\n  this.assets = new AssetsClient(this);\n  this.datasets = new DatasetsClient(this);\n  this.projects = new ProjectsClient(this);\n  this.users = new UsersClient(this);\n  this.auth = new AuthClient(this);\n\n  if (this.clientConfig.isPromiseAPI) {\n    var observableConfig = assign({}, this.clientConfig, {\n      isPromiseAPI: false\n    });\n    this.observable = new SanityClient(observableConfig);\n  }\n}\n\nassign(SanityClient.prototype, dataMethods);\nassign(SanityClient.prototype, {\n  clone: function clone() {\n    return new SanityClient(this.config());\n  },\n  config: function config(newConfig) {\n    if (typeof newConfig === 'undefined') {\n      return assign({}, this.clientConfig);\n    }\n\n    if (this.observable) {\n      var observableConfig = assign({}, newConfig, {\n        isPromiseAPI: false\n      });\n      this.observable.config(observableConfig);\n    }\n\n    this.clientConfig = initConfig(newConfig, this.clientConfig || {});\n    return this;\n  },\n  withConfig: function withConfig(newConfig) {\n    return this.clone().config(newConfig);\n  },\n  getUrl: function getUrl(uri) {\n    var useCdn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var base = useCdn ? this.clientConfig.cdnUrl : this.clientConfig.url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, ''));\n  },\n  isPromiseAPI: function isPromiseAPI() {\n    return this.clientConfig.isPromiseAPI;\n  },\n  _requestObservable: function _requestObservable(options) {\n    var _this = this;\n\n    var uri = options.url || options.uri; // If the `canUseCdn`-option is not set we detect it automatically based on the method + URL.\n    // Only the /data endpoint is currently available through API-CDN.\n\n    var canUseCdn = typeof options.canUseCdn === 'undefined' ? ['GET', 'HEAD'].indexOf(options.method || 'GET') >= 0 && uri.indexOf('/data/') === 0 : options.canUseCdn;\n    var useCdn = this.clientConfig.useCdn && canUseCdn;\n    var tag = options.tag && this.clientConfig.requestTagPrefix ? [this.clientConfig.requestTagPrefix, options.tag].join('.') : options.tag || this.clientConfig.requestTagPrefix;\n\n    if (tag) {\n      options.query = _objectSpread({\n        tag: validate.requestTag(tag)\n      }, options.query);\n    }\n\n    var reqOptions = getRequestOptions(this.clientConfig, assign({}, options, {\n      url: this.getUrl(uri, useCdn)\n    }));\n    return new Observable(function (subscriber) {\n      return httpRequest(reqOptions, _this.clientConfig.requester).subscribe(subscriber);\n    });\n  },\n  request: function request(options) {\n    var observable = this._requestObservable(options).pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body;\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  }\n});\nSanityClient.Patch = Patch;\nSanityClient.Transaction = Transaction;\nSanityClient.ClientError = httpRequest.ClientError;\nSanityClient.ServerError = httpRequest.ServerError;\nSanityClient.requester = httpRequest.defaultRequester;\nmodule.exports = SanityClient;","map":{"version":3,"sources":["/home/mcleanj/projects/portfolio-website/frontend-react/node_modules/@sanity/client/lib/sanityClient.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","assign","require","_require","Observable","map","Patch","Transaction","dataMethods","DatasetsClient","ProjectsClient","AssetsClient","UsersClient","AuthClient","httpRequest","getRequestOptions","_require2","defaultConfig","initConfig","validate","toPromise","observable","SanityClient","config","undefined","assets","datasets","projects","users","auth","clientConfig","isPromiseAPI","observableConfig","prototype","clone","newConfig","withConfig","getUrl","uri","useCdn","base","cdnUrl","url","concat","replace","_requestObservable","options","_this","canUseCdn","indexOf","method","tag","requestTagPrefix","join","query","requestTag","reqOptions","subscriber","requester","subscribe","request","pipe","event","type","body","ClientError","ServerError","defaultRequester","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('./util/observable'),\n    Observable = _require.Observable,\n    map = _require.map,\n    filter = _require.filter;\n\nvar Patch = require('./data/patch');\n\nvar Transaction = require('./data/transaction');\n\nvar dataMethods = require('./data/dataMethods');\n\nvar DatasetsClient = require('./datasets/datasetsClient');\n\nvar ProjectsClient = require('./projects/projectsClient');\n\nvar AssetsClient = require('./assets/assetsClient');\n\nvar UsersClient = require('./users/usersClient');\n\nvar AuthClient = require('./auth/authClient');\n\nvar httpRequest = require('./http/request');\n\nvar getRequestOptions = require('./http/requestOptions');\n\nvar _require2 = require('./config'),\n    defaultConfig = _require2.defaultConfig,\n    initConfig = _require2.initConfig;\n\nvar validate = require('./validators');\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nfunction SanityClient() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n\n  if (!(this instanceof SanityClient)) {\n    return new SanityClient(config);\n  }\n\n  this.config(config);\n  this.assets = new AssetsClient(this);\n  this.datasets = new DatasetsClient(this);\n  this.projects = new ProjectsClient(this);\n  this.users = new UsersClient(this);\n  this.auth = new AuthClient(this);\n\n  if (this.clientConfig.isPromiseAPI) {\n    var observableConfig = assign({}, this.clientConfig, {\n      isPromiseAPI: false\n    });\n    this.observable = new SanityClient(observableConfig);\n  }\n}\n\nassign(SanityClient.prototype, dataMethods);\nassign(SanityClient.prototype, {\n  clone: function clone() {\n    return new SanityClient(this.config());\n  },\n  config: function config(newConfig) {\n    if (typeof newConfig === 'undefined') {\n      return assign({}, this.clientConfig);\n    }\n\n    if (this.observable) {\n      var observableConfig = assign({}, newConfig, {\n        isPromiseAPI: false\n      });\n      this.observable.config(observableConfig);\n    }\n\n    this.clientConfig = initConfig(newConfig, this.clientConfig || {});\n    return this;\n  },\n  withConfig: function withConfig(newConfig) {\n    return this.clone().config(newConfig);\n  },\n  getUrl: function getUrl(uri) {\n    var useCdn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var base = useCdn ? this.clientConfig.cdnUrl : this.clientConfig.url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, ''));\n  },\n  isPromiseAPI: function isPromiseAPI() {\n    return this.clientConfig.isPromiseAPI;\n  },\n  _requestObservable: function _requestObservable(options) {\n    var _this = this;\n\n    var uri = options.url || options.uri; // If the `canUseCdn`-option is not set we detect it automatically based on the method + URL.\n    // Only the /data endpoint is currently available through API-CDN.\n\n    var canUseCdn = typeof options.canUseCdn === 'undefined' ? ['GET', 'HEAD'].indexOf(options.method || 'GET') >= 0 && uri.indexOf('/data/') === 0 : options.canUseCdn;\n    var useCdn = this.clientConfig.useCdn && canUseCdn;\n    var tag = options.tag && this.clientConfig.requestTagPrefix ? [this.clientConfig.requestTagPrefix, options.tag].join('.') : options.tag || this.clientConfig.requestTagPrefix;\n\n    if (tag) {\n      options.query = _objectSpread({\n        tag: validate.requestTag(tag)\n      }, options.query);\n    }\n\n    var reqOptions = getRequestOptions(this.clientConfig, assign({}, options, {\n      url: this.getUrl(uri, useCdn)\n    }));\n    return new Observable(function (subscriber) {\n      return httpRequest(reqOptions, _this.clientConfig.requester).subscribe(subscriber);\n    });\n  },\n  request: function request(options) {\n    var observable = this._requestObservable(options).pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body;\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  }\n});\nSanityClient.Patch = Patch;\nSanityClient.Transaction = Transaction;\nSanityClient.ClientError = httpRequest.ClientError;\nSanityClient.ServerError = httpRequest.ServerError;\nSanityClient.requester = httpRequest.defaultRequester;\nmodule.exports = SanityClient;"]},"metadata":{},"sourceType":"script"}